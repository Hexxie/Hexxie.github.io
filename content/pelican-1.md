Title: Pelican internals: Как внести правки в css
Date: 2021-02-12 13:30
Category: Pelican
Tags: blog, pelican, internals, web
Authors: Anastasiia Rusakova
Summary: Основные мысли о популярных протоколах в автомотиве

В пару статей у меня была табличка. И в текущей теме она была без рамок. Выглядело это не красиво и я решила поменять стиль.
Ну фигня же, добавить border, типа так:

    table{
        border-collapse: collapse;
        border-spacing: 0;
        border:2px solid #000000;
    }

    th{
    border:2px solid #000000;
    }

    td{
    border:1px solid #000000;
    }

Я посмотрела source code самой странички, ccs хранится в href="/theme/css/main.css". Я добавила свои 3 стиля. Сгенерила сайт, но ничего не поменялось. При чем в main.css моих стилей не было.

Ок. Я через everything нашла все main.css на моем ПК. Их было довольно много, учитывая всякие tmp директории. Но, я знаю что у меня в блоге установлена тема pelican-sober. Скорее всего пеликан может собирать css из этой темы, которая может быть установлена "где-то". Например в плагинах. Внесла правки туда - не работает.

Скачала сорсы. Я ж инженер. Щас разберемся что оно куда копирует.
Для генерации статического сайта я использую комманду

    pelican content

Решила поискать по сорсам слово content. Ничего толком не нашла. Нашла обработку консольных параметров пеликана. Контента там нет, но есть path. Т.е. по факту я использую комманду

    pelican path 

Т.е. контент это моя папка с .md файлами. Ок. А как же оно копирует в целевую папку? Там на самом деле много генерато-движений но суть в том, что оно находит папку с темой, видимо путь к теме прописывается во время установки темы и копирует прям оттуда css, js.
Если что, мой путь к теме выглядит так:
    AppData\Local\Programs\Python\Python36-32\Lib\site-packages\pelican\themes\pelican-sober

 Так как на самом деле мой блог сейчас похож на помойку файлов. Я решила проверить эту теорию. Создала новую папку, скопировала туда content и pelicanconf.py. Сгенерила файлы и..все получилось, при чем в аутпуте был мой модифицированный ccs.

Ок. Ранним локальный сервер. И..... ничего не получилось. Не может быть!
Я не верю своим глазам, и гуглю что-то типа "clean localhost files". И вуаля - решение моей проблемы первой ссылкой: "Chrome loading cached files on localhost". Проверка в анонимной вкладке - все работает.
Решение проблемы: developer tools > application > clear storage

Спасибо хром. Зато я почистила контент блога и разобралась немного (ну совсем немного) как работает пеликан, как минимум откуда и куда он складывает файлы.

UPD. Я не веб девелопер и не питон девелопер. Но код прочитать могу любой. Главное желание.

Продолжение следует...
